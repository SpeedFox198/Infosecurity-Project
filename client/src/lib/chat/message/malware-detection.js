const SubtleCrypto = crypto.subtle;


async function digestMessage(file) {
    const encoder = new TextEncoder();
    const data = encoder.encodeFile(file);
    const hash = await crypto.subtle.digest('SHA-256', data);
    return hash;
}

// for testing
// digestMessage().then((digestBuffer) => console.log(digestBuffer.byteLength));